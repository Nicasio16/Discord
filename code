import discord
import aiohttp
import asyncio
from discord import Webhook, AsyncWebhookAdapter

client = discord.Client()

@client.event
async def on_ready():
    print('We have logged in as {0.user}'.format(client))

@client.event
async def on_message(message):
    if message.author == client.user:
        return

    if message.content.startswith('$hello'):
        await message.channel.send('Hello!')

    if message.content.startswith('$thumb'):
        channel = message.channel
        await channel.send('Send me that ğŸ‘ reaction, mate')

        def check(reaction, user):
            return user == message.author and str(reaction.emoji) == 'ğŸ‘'

        try:
            reaction, user = await client.wait_for('reaction_add', timeout=60.0, check=check)
        except asyncio.TimeoutError:
            await channel.send('ğŸ‘')
        else:
            await channel.send('ğŸ‘')

    if message.content.startswith('$shutdown'):
        await message.bot.logout()
    
    async def foo():
        async with aiohttp.ClientSession() as session:
            webhook = Webhook.from_url('https://github.com/Nicasio16/Discord', adapter=AsyncWebhookAdapter(session))
            await webhook.send('Hello World', username='Foo')

#@client.event
#async def shutdown(message):
    #exit

client.run('MTAwMjI5NjI0MjU1MTkxNDUyNw.GqUkVT.5dRoY5zKSqUK4z3DNmD_gDKtAERr4_og6c9c84')


#10469034000
